(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14329134"],{"3934c":function(t,e,r){"use strict";r("86da")},"637b":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product-detail"},[r("a-steps",{staticClass:"product-steps",attrs:{current:t.current}},t._l(t.steps,(function(t){return r("a-step",{key:t.title,attrs:{title:t.title}})})),1),r("div",{staticClass:"steps-content"},[0===t.current?r("basicInfo",{staticClass:"basicDetail",attrs:{form:t.basicForm,options:t.options,optionsObj:t.optionsObj},on:{next:t.next}}):1===t.current?r("saleInfo",{staticClass:"saleDetail",attrs:{form:t.saleForm},on:{prev:t.prev,submitAdd:t.submitEdit}}):t._e()],1)],1)},s=[],i=r("1da1"),a=r("5530"),c=(r("96cf"),r("d3b7"),r("159b"),r("b64b"),r("a623")),o=r("f9c6"),u={components:{basicInfo:c["a"],saleInfo:o["a"]},data:function(){return{options:[],optionsObj:{},basicForm:{title:"",desc:"",category:null,c_items:[],tags:[],c_item:""},saleForm:{price:null,price_off:null,unit:"",status:1,images:[],inventory:null},editForm:{},current:0,steps:[{title:"填写商品基本信息"},{title:"填写商品销售信息"}]}},computed:{form:function(){return Object(a["a"])(Object(a["a"])(Object(a["a"])({},this.editForm),this.basicForm),this.saleForm)}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.$route.params.id,e.next=3,t.$api.detail(r);case 3:return t.editForm=e.sent,e.next=6,t.$api.catlist();case 6:n=e.sent,t.editForm=t.editForm.data,Object.keys(t.editForm).forEach((function(e){e in t.basicForm?t.basicForm[e]=t.editForm[e]:e in t.saleForm&&(t.saleForm[e]=t.editForm[e])})),t.options=n.data.data,t.options.forEach((function(e){t.optionsObj[e.id]=e.c_items}));case 11:case"end":return e.stop()}}),e)})))()},methods:{next:function(t){this.current+=1,this.basicForm=Object(a["a"])(Object(a["a"])({},t),{},{c_items:[t.c_item]})},prev:function(){this.current-=1},submitEdit:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.saleForm=Object(a["a"])({},t),r.prev=1,r.next=4,e.$api.edit(e.form);case 4:e.$router.push({name:"ProductList"}),e.$emit("editList"),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),e.$message.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()}}},m=u,l=(r("3934c"),r("2877")),p=Object(l["a"])(m,n,s,!1,null,"720520b0",null);e["default"]=p.exports},"86da":function(t,e,r){}}]);
//# sourceMappingURL=chunk-14329134.1e209fe9.js.map